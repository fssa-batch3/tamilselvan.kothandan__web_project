<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOC 4 YOU</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="../../assets/css/style.css">

</head>

<body>

    <!-- header section starts  -->

    <header class="header" id="header">

    </header>

    <section class="doctors" id="doctors">

        <h1 class="heading">
            our <span>doctors</span>
        </h1>

        <section class="filter">
            <div class="wrapper">
                <div id="search-container">
                    <input type="search" id="search-item" placeholder="search for doctors" onkeyup="search()">
                    <button id="search">Search</button>
                </div>
            </div>

        </section>

        <div class="box-container" id="doctor-list">

        </div>

    </section>

    <section class="footer">

        <div class="box-container">

            <div class="box">
                <h3>quick links</h3>
                <a href="../../index.html">
                    <i class="fas fa-chevron-right"></i> Home
                </a>
                <a href="../../index.html">
                    <i class="fas fa-chevron-right"></i> Services
                </a>
                <a href="./About page.html">
                    <i class="fas fa-chevron-right"></i> About
                </a>
                <a href="./Doctors.html">
                    <i class="fas fa-chevron-right"></i> Doctors
                </a>
                <a href="./hospital.html">
                    <i class="fas fa-chevron-right"></i> hospital
                </a>

            </div>

            <div class="box">
                <h3>contact info</h3>
                <a href="#">
                    <i class="fas fa-phone"></i> +91-9445535374
                </a>

                <a href="#">
                    <i class="fas fa-envelope"></i> tamilselvan.kothandan@fssa.freshworks.com
                </a>
                <a href="#">
                    <i class="fas fa-map-marker-alt"></i> Chennai-600081
                </a>
            </div>

            <div class="box">
                <h3>follow us</h3>
                <a href="#">
                    <i class="fab fa-facebook-f"></i> facebook
                </a>
                <a href="#">
                    <i class="fab fa-twitter"></i> twitter
                </a>

                <a href="#">
                    <i class="fab fa-instagram"></i> instagram
                </a>
                <a href="#">
                    <i class="fab fa-linkedin"></i> linkedin
                </a>

            </div>

        </div>
    </section>

    <script >
        const queryString = window.location.search;
const hospitals_id = new URLSearchParams(queryString).get("hospital_id");
console.log(hospitals_id)

        // Get the doctors list from local storage
const doctors = JSON.parse(localStorage.getItem("doctors"));

// Filter the doctors array based on the hospital ID
const filteredDoctors = doctors.filter((doctor) => doctor.hospitals_id == hospitals_id);
console.log(filteredDoctors)

// Select the HTML element where you want to append the doctor list
const container = document.querySelector(".box-container");

// Loop through the filtered doctors array and create a div element for each doctor
filteredDoctors.forEach((doctor) => {
  // Create the parent div element
  const parentDiv = document.createElement("div");
  parentDiv.classList.add("Box");

  // Create the child elements
  const imageLink = document.createElement("a");
  imageLink.setAttribute("href", `./doctor details/doctor details.html?doctor_id=${doctor.id}`);

  const image = document.createElement("img");
  image.setAttribute("src", doctor.img_src);
  image.setAttribute("alt", doctor.doctor_name);

  const heading = document.createElement("h3");
  heading.innerText = doctor.doctor_name;

  const specialization = document.createElement("p");
  specialization.innerText = doctor.specialization;

  // Append the child elements to the parent div
  imageLink.appendChild(image);
  parentDiv.appendChild(imageLink);
  parentDiv.appendChild(heading);
  parentDiv.appendChild(specialization);

  // Append the parent div to the doctor container
  container.appendChild(parentDiv);
});

    </script>
    <script src="./../../Components/header.js"></script>

</body>

</html>